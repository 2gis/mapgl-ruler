!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=4)}([function(t,e,n){var o=n(1),i=n(2);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};o(i,r);t.exports=i.locals||{}},function(t,e,n){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],l=e.base?r[0]+e.base:r[0],d=n[l]||0,u="".concat(l," ").concat(d);n[l]=d+1;var c=s(u),h={css:r[1],media:r[2],sourceMap:r[3]};-1!==c?(a[c].references++,a[c].updater(h)):a.push({identifier:u,updater:m(h,e),references:1}),o.push(u)}return o}function d(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,c=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var f=null,v=0;function m(t,e){var n,o,i;if(e.singleton){var r=v++;n=f||(f=d(e)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=d(e),o=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=s(n[o]);a[i].references--}for(var r=l(t,e),d=0;d<n.length;d++){var u=s(n[d]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=r}}}},function(t,e,n){(e=n(3)(!1)).push([t.i,".src-control-index-module__root {\n    background: #fff;\n    box-shadow: 0 1px 3px 0 rgba(38, 38, 38, 0.5);\n    border-radius: 4px;\n    width: 32px;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n}\n\n.src-control-index-module__button {\n    padding: 0;\n    outline: 0;\n    border: none;\n    cursor: pointer;\n\n    width: 32px;\n    height: 32px;\n    color: #262626;\n    box-sizing: border-box;\n\n    font-size: 18px;\n    font-weight: 400;\n\n    background: #fff;\n}\n\n.src-control-index-module__button:hover {\n    opacity: 0.7;\n}\n\n.src-control-index-module__button:active {\n    color: #028eff;\n}\n\n.src-control-index-module__enabled {\n    color: #028eff;\n}\n",""]),e.locals={root:"src-control-index-module__root",button:"src-control-index-module__button",enabled:"src-control-index-module__enabled"},t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){"use strict";n.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){function t(){this.events={}}return t.prototype.on=function(t,e){var n=this.events[t];return n||(n=this.events[t]=[]),n.push(e),this},t.prototype.once=function(t,e){var n=this,o=function(i){n.off(t,o),e.call(n,i)};return this.on(t,o),this},t.prototype.off=function(t,e){var n=this.events[t];if(!n)return this;var o=n.indexOf(e);return-1!==o&&n.splice(o,1),this},t.prototype.emit=function(t,e){var n=this.events[t];if(!n)return this;for(var o=n.slice(),i=0;i<o.length;i++)o[i].call(this,e);return this},t}(),a={start:{en:"Start",ru:"Старт"},addPoint:{en:"Add point",ru:"Добавить точку"},meter:{en:"m",ru:"м"},kilometer:{en:"km",ru:"км"}},s={popupLabelPhase:2147483647,jointLabelPhase:2147483646,jointPhase:2147483645,jointWidth:7,jointBorderWidth:3,jointBorder2Width:2,jointSmallWidth:0,jointSmallBorderWidth:4,jointSmallBorder2Width:2,jointColor:"#ffffff",jointBorderColor:"#667799",jointBorder2Color:"#ffffff",snapPointPhase:2147483647,linePhase:2147483646,lineWidth:4,lineBorderWidth:2,lineBorder2Width:1,lineColor:"#667799",lineBorderColor:"#ffffff",lineBorder2Color:"#00000026",previewLineColor:"#66779966",labelFontSize:13};function l(t,e,n){if(e)return a.start[n]||a.start.en;if(t<1e3)return"".concat(t," ").concat(a.meter[n]||a.meter.en);var o=(t/1e3).toFixed(1);return"".concat(o," ").concat(a.kilometer[n]||a.kilometer.en)}function d(t,e){var n=Math.PI/180,o=t[1]*n,i=e[1]*n,r=Math.sin((e[1]-t[1])*n/2),a=Math.sin((e[0]-t[0])*n/2),s=r*r+Math.cos(o)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return Math.round(6371e3*l)}function u(t,e){return'\n        <div style="font-size: '.concat(e,'px;\n            color: #667799;\n            user-select: none;\n            font-family: SuisseIntl, Helvetica, Arial, sans-serif;\n            text-shadow: 1px 0px 1px #fff, -1px 0px 1px #fff, 0px 1px 1px #fff, 0px -1px 1px #fff;\n            white-space: nowrap;\n            cursor: pointer;\n        ">\n            ').concat(t,"\n        </div>\n    ")}function c(t,e){return'\n        <div style="text-shadow: 1px 0px 1px #fff, -1px 0px 1px #fff, 0px 1px 1px #fff, 0px -1px 1px #fff;\n            user-select: none;\n            color: #667799;\n            font-family: SuisseIntl, Helvetica, Arial, sans-serif;\n            font-size: 13px;\n            margin: -12px 0 0 12px; /** отступы от точки наведения */\n            white-space: nowrap;\n            cursor: pointer;\n        ">\n            '.concat(t,"\n            <br>\n            ").concat(function(t){return a.addPoint[t]||a.addPoint.en}(e),"\n        </div>\n    ")}function h(t,e,n){return new mapgl.HtmlMarker(t,{coordinates:e,html:'<div style="\n                user-select: none;\n                position: absolute;\n                width: '.concat(n?s.jointWidth:s.jointSmallWidth,"px;\n                height: ").concat(n?s.jointWidth:s.jointSmallWidth,"px;\n                top: ").concat(n?"-6px":"-4px",";\n                left: ").concat(n?"-6px":"-4px",";\n                background: ").concat(s.jointColor,";\n                border-radius: 50%;\n                border-style: solid;\n                border-color: ").concat(s.jointBorderColor,";\n                border-width: ").concat(n?s.jointBorderWidth:s.jointSmallBorderWidth,"px;\n                box-shadow: 0 0 0 ").concat(n?s.jointBorder2Width:s.jointSmallBorder2Width,"px ").concat(s.jointBorder2Color,';\n                cursor: pointer;\n            "></div'),zIndex:s.jointPhase})}function p(t,e,n,o){return new mapgl.CircleMarker(t,{coordinates:e,interactive:o,diameter:n?s.jointWidth:s.jointSmallWidth,strokeWidth:n?s.jointBorderWidth:s.jointSmallBorderWidth,stroke2Width:n?s.jointBorder2Width:s.jointSmallBorder2Width,color:s.jointColor,strokeColor:s.jointBorderColor,stroke2Color:s.jointBorder2Color,zIndex:s.snapPointPhase})}function f(t,e,n){return new mapgl.Polyline(t,{coordinates:e,zIndex:s.linePhase,zIndex2:s.linePhase-1e-5,zIndex3:s.linePhase-2e-5,width:s.lineWidth,width2:n?0:s.lineWidth+2*s.lineBorderWidth,width3:n?0:s.lineWidth+2*(s.lineBorderWidth+s.lineBorder2Width),color:n?s.previewLineColor:s.lineColor,color2:s.lineBorderColor,color3:s.lineBorder2Color,interactive:!n})}function v(t,e,n,o){void 0===o&&(o=!1);var i=u(n,s.labelFontSize),r=s.labelFontSize,a=s.jointWidth+s.jointBorderWidth+s.jointBorder2Width,l=o;return new mapgl.HtmlMarker(t,{coordinates:e,html:i,anchor:[-(a/2+2),r/2],zIndex:o?s.popupLabelPhase:s.jointLabelPhase,interactive:l})}function m(t,e,n){var o=t[0]-e[0],i=t[1]-e[1],r=n[0]-e[0],a=n[1]-e[1],s=r*r+a*a,l=0!==s?(o*r+i*a)/s:0;return l<0?e:l>1?n:[e[0]+l*r,e[1]+l*a]}function g(t,e,n){for(var o=e.map((function(e){return t.project(e.getCoordinates())})),i=1/0,r=o[0],a=0,s=0;s<o.length-1;s++){var l=m(n,o[s],o[s+1]),u=l[0]-n[0],c=l[1]-n[1],h=u*u+c*c;h<i&&(i=h,r=l,a=s)}var p=t.unproject(r);return{point:p,distance:e[a].getDistance()+d(p,e[a].getCoordinates()),segment:a}}var b=0,y=function(t){function e(e,n,o,i,r){void 0===r&&(r=!0);var a=t.call(this)||this;return a.map=e,a.dragging=!1,a.hovered=!1,a.onClickLabel=function(){a.disable(),a.emit("removed",{targetData:a})},a.onMouseOver=function(){a.hovered||(a.hovered=!0,void 0===a.hoverTimer&&a.emit("mouseover",{targetData:a}))},a.onMouseOut=function(){a.hovered&&(a.hovered=!1,a.hoverTimer=setTimeout((function(){a.hovered||(a.emit("mouseout",{targetData:a}),a.hoverTimer=void 0)}),100))},a.onMouseMove=function(t){var e;a.dragging&&(a.emit("move",{targetData:a}),a.coordinates=a.map.unproject([t.clientX,t.clientY]),null===(e=a.marker)||void 0===e||e.setCoordinates(a.coordinates))},a.onMouseUp=function(){var t;a.dragging&&(a.dragging=!1,null===(t=a.label)||void 0===t||t.setCoordinates(a.coordinates),a.emit("dragend"))},a.id=++b,a.distance=i,a.coordinates=n,a.isFirst=o,r&&a.enable(),a}return i(e,t),e.prototype.disable=function(){var t,e;null===(t=this.marker)||void 0===t||t.destroy(),this.marker=void 0,document.removeEventListener("mouseup",this.onMouseUp),null===(e=this.label)||void 0===e||e.destroy(),this.label=void 0,document.removeEventListener("mousemove",this.onMouseMove)},e.prototype.enable=function(){this.marker=h(this.map,this.getCoordinates(),this.isFirst),this.addMarkerEventListeners(),this.labelText=l(this.distance,this.isFirst,this.map.getLanguage()),this.label=v(this.map,this.getCoordinates(),this.labelText),this.addLabelEventListeners(!1),document.addEventListener("mousemove",this.onMouseMove)},e.prototype.getCoordinates=function(){return this.coordinates},e.prototype.getDistance=function(){return this.distance},e.prototype.isFirstJoint=function(){return this.isFirst},e.prototype.setDistance=function(t,e){var n;this.distance=t,this.isFirst=e,this.labelText=l(this.distance,this.isFirst,this.map.getLanguage()),null===(n=this.label)||void 0===n||n.setContent(u(this.labelText,s.labelFontSize))},e.prototype.setAsFirstJoint=function(){var t;this.isFirst||(this.isFirst=!0,null===(t=this.marker)||void 0===t||t.destroy(),document.removeEventListener("mouseup",this.onMouseUp),this.marker=h(this.map,this.coordinates,this.isFirst),this.addMarkerEventListeners(),this.setDistance(0,!0))},e.prototype.enablePopup=function(){var t;null===(t=this.label)||void 0===t||t.destroy(),this.label=v(this.map,this.getCoordinates(),'\n        <img style="\n            user-select: none;\n            width: 24px;\n            height: 24px;\n            margin-top: -4px;\n            cursor: pointer;\n        " src="data:image/svg+xml;base64,'.concat("PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxkZWZzPjxwYXRoIGlkPSJBIiBkPSJNMTIgMTAuNTg2bDMuNzkzLTMuNzkzIDEuNDE0IDEuNDE0TDEzLjQxNCAxMmwzLjc5MyAzLjc5My0xLjQxNCAxLjQxNEwxMiAxMy40MTRsLTMuNzkzIDMuNzkzLTEuNDE0LTEuNDE0TDEwLjU4NiAxMiA2Ljc5MyA4LjIwN2wxLjQxNC0xLjQxNEwxMiAxMC41ODZ6Ii8+PC9kZWZzPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTEpIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMC41IiBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIuMTUiLz48bWFzayBpZD0iQiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjQSIvPjwvbWFzaz48dXNlIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIgeGxpbms6aHJlZj0iI0EiLz48ZyBmaWxsPSIjMjYyNjI2IiBtYXNrPSJ1cmwoI0IpIj48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PC9nPjwvZz48L3N2Zz4=",'" alt="close">\n    '),!0),this.addLabelEventListeners(!0)},e.prototype.disablePopup=function(){var t;null===(t=this.label)||void 0===t||t.destroy(),this.label=v(this.map,this.getCoordinates(),u(this.labelText,s.labelFontSize)),this.addLabelEventListeners(!1)},e.prototype.addMarkerEventListeners=function(){var t=this;if(this.marker){var e=this.marker.getContent();e.addEventListener("mousedown",(function(){t.dragging=!0,t.emit("dragstart",{targetData:t})})),document.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver),e.addEventListener("mouseout",this.onMouseOut)}},e.prototype.addLabelEventListeners=function(t){if(this.label){var e=this.label.getContent();e.addEventListener("mouseover",this.onMouseOver),e.addEventListener("mouseout",this.onMouseOut),t&&e.addEventListener("click",this.onClickLabel)}},e}(r),w=function(){function t(t,e){this.map=t,this.distance=e.distance,this.point=e.point,this.labelText=c(l(this.distance,!1,this.map.getLanguage()),this.map.getLanguage()),this.label=v(this.map,this.point,"")}return t.prototype.show=function(){this.label.setContent(this.labelText),this.marker=p(this.map,this.point,!0,!1)},t.prototype.hide=function(){var t;this.label.setContent(""),null===(t=this.marker)||void 0===t||t.destroy()},t.prototype.update=function(t){var e;this.distance=t.distance,this.point=t.point,this.labelText=c(l(this.distance,!1,this.map.getLanguage()),this.map.getLanguage()),this.label.setContent(this.labelText),null===(e=this.marker)||void 0===e||e.destroy(),this.marker=p(this.map,this.point,!0,!1),this.label.setCoordinates(this.point)},t.prototype.destroy=function(){var t;null===(t=this.marker)||void 0===t||t.destroy(),this.label.destroy()},t}(),x=function(t){function e(e,n){var o,i,r=t.call(this)||this;return r.enabled=!1,r.redrawPolyline=!1,r.redrawPreviewLine=!1,r.redrawSnapPoint=!1,r.overed=!1,r.joints=[],r.onJointMouseOver=function(t){r.overed=!0,r.currentDraggableJoint||t.targetData.enablePopup()},r.onJointMouseOut=function(t){r.overed=!1,r.currentDraggableJoint||t.targetData.disablePopup()},r.onJointRemoved=function(t){var e=t.targetData,n=r.joints.indexOf(e);e.isFirstJoint()&&r.joints.length>1&&r.joints[n+1].setAsFirstJoint(),r.joints.splice(n,1),r.redrawPolyline=!0,r.overed=!1,r.sendRulerChangeEvent(!0)},r.onJointMoveEnd=function(){r.redrawPolyline=!0,r.redrawPreviewLine=!0,r.currentDraggableJoint=void 0,r.sendRulerChangeEvent(!0)},r.onJointMove=function(){r.redrawPreviewLine=!0},r.onJointMoveStart=function(t){r.currentDraggableJoint=t.targetData},r.onPolylineMouseMove=function(t){r.currentDraggableJoint||r.overed||(r.newSnapInfo=g(r.map,r.joints,t.point),r.redrawSnapPoint=!0)},r.onPolylineMouseOut=function(){r.redrawSnapPoint=!0},r.onPolylineClick=function(t){r.createSnapPoint(t.point),r.sendRulerChangeEvent(!0)},r.onClick=function(t){r.addPoint(t.lngLat,r.joints.length),r.sendRulerChangeEvent(!0)},r.map=e,r.language=r.map.getLanguage(),null===(o=n.points)||void 0===o||o.forEach((function(t,e){return r.addPoint(t,e)})),(null===(i=n.enabled)||void 0===i||i)&&r.enable(),r}return i(e,t),e.prototype.destroy=function(){this.disable(),this.joints=[]},e.prototype.enable=function(){this.enabled||(this.enabled=!0,this.redrawPolyline=!0,this.map.on("click",this.onClick),this.joints.forEach((function(t){return t.enable()})),this.update())},e.prototype.disable=function(){var t,e,n;this.enabled&&(this.enabled=!1,null===(t=this.polyline)||void 0===t||t.destroy(),this.polyline=void 0,null===(e=this.previewLine)||void 0===e||e.destroy(),this.previewLine=void 0,null===(n=this.snapPoint)||void 0===n||n.destroy(),this.snapPoint=void 0,this.joints.forEach((function(t){return t.disable()})),this.map.off("click",this.onClick))},e.prototype.setPoints=function(t){var e=this;this.redrawPolyline=!0,this.joints.forEach((function(t){return t.disable()})),this.joints=[],t.forEach((function(t,n){return e.addPoint(t,n)})),this.sendRulerChangeEvent(!1)},e.prototype.addPoint=function(t,e){this.redrawPolyline=!0;var n=0===this.joints.length,o=0;if(!n){var i=this.joints[e-1];o=i.getDistance()+d(i.getCoordinates(),t)}var r=new y(this.map,t,n,o,this.enabled);r.on("dragstart",this.onJointMoveStart),r.on("dragend",this.onJointMoveEnd),r.on("move",this.onJointMove),r.on("removed",this.onJointRemoved),r.on("mouseover",this.onJointMouseOver),r.on("mouseout",this.onJointMouseOut),this.joints.splice(e,0,r)},e.prototype.createSnapPoint=function(t){var e=g(this.map,this.joints,t);this.addPoint(e.point,e.segment+1),this.redrawSnapPoint=!0},e.prototype.sendRulerChangeEvent=function(t){this.emit("change",{points:this.joints.map((function(t){return t.getCoordinates()})),isUser:t})},e.prototype.update=function(){var t,e,n,o=this;if(this.enabled){this.language!==this.map.getLanguage()&&(this.language=this.map.getLanguage(),this.redrawPolyline=!0);var i=this.redrawPreviewLine||this.redrawPolyline;if(this.redrawPolyline){this.redrawPolyline=!1,null===(t=this.polyline)||void 0===t||t.destroy();var r=[];this.joints.forEach((function(t,e){var n=t.getCoordinates(),i=0===e,a=0;i||(a=o.joints[e-1].getDistance()+d(n,o.joints[e-1].getCoordinates()));t.setDistance(a,i),r.push(n)})),this.polyline=f(this.map,r,!1),this.polyline.on("mousemove",this.onPolylineMouseMove),this.polyline.on("mouseout",this.onPolylineMouseOut),this.polyline.on("click",this.onPolylineClick)}if(this.redrawPreviewLine&&(this.redrawPreviewLine=!1,null===(e=this.previewLine)||void 0===e||e.destroy(),this.currentDraggableJoint)){var a=this.joints.indexOf(this.currentDraggableJoint),s=[];this.joints[a-1]&&s.push(this.joints[a-1].getCoordinates()),s.push(this.currentDraggableJoint.getCoordinates()),this.joints[a+1]&&s.push(this.joints[a+1].getCoordinates()),this.previewLine=f(this.map,s,!0)}this.redrawSnapPoint&&(this.redrawSnapPoint=!1,this.newSnapInfo?(this.snapPoint||(this.snapPoint=new w(this.map,this.newSnapInfo),this.snapPoint.show()),this.snapPoint.update(this.newSnapInfo),this.newSnapInfo=void 0):null===(n=this.snapPoint)||void 0===n||n.hide()),i&&this.emit("redraw"),requestAnimationFrame((function(){o.update()}))}},e}(r),j=n(0),P=n.n(j),M=function(t){function e(e,n,o){void 0===o&&(o=!0);var i=t.call(this,e,"",n)||this;return i.map=e,i.render=function(){i.getContainer().innerHTML="\n            <div class=".concat(P.a.root,'>\n                <button class="').concat(P.a.button," ").concat(i.isEnabled?P.a.enabled:void 0,'"> ').concat('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="currentColor">\n    <path d="M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z" />\n</svg>\n',"</button>\n            </div>\n        "),i.getContainer().querySelector(".".concat(P.a.button)).addEventListener("click",i.onClick)},i.onClick=function(){i.isEnabled?(i.ruler.destroy(),i.isEnabled=!1):(i.ruler.enable(),i.isEnabled=!0),i.render()},i.isEnabled=o,i.ruler=new x(i.map,{enabled:i.isEnabled}),i.render(),i}return i(e,t),e.prototype.destroy=function(){this.ruler.destroy(),t.prototype.destroy.call(this)},e.prototype.getRuler=function(){return this.ruler},e}(mapgl.Control);"undefined"!=typeof window&&("mapgl"in window?(mapgl.Ruler=x,mapgl.RulerControl=M):(window.__mapglPlugins||(window.__mapglPlugins={}),window.__mapglPlugins.Ruler=x,window.__mapglPlugins.RulerControl=M)),window.map=new mapgl.Map("container",{center:[55.31878,25.23584],zoom:13,key:"cb20c5bf-34d3-4f0e-9b2b-33e9b8edb57f"}),window.rulerControl=new M(window.map,{position:"centerRight"}),window.rulerControl.getRuler().setPoints([[55.31878,25.23584],[55.35878,25.23584],[55.35878,25.26584]]),window.addEventListener("resize",(function(){return window.map.invalidateSize()}))}]);